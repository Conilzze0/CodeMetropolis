---
layout: page
title: Mapping Tool
excerpt: 
modified: 2014-08-08T19:44:38.564948-04:00
image:
  feature: town_01.png
---

This application is used to process the XML file generated by the CDF Converter Tool, assign metrics to objects of the metropolis and generate an output XML that is ready to be used by CodeMetropolis Placing Tool. The tool is using the mapping file to link source code elements and metrics to world objects. For example, link of the LOC metric is related to the height of the building. The *source* tag contains the metric that will be a link to the object, the *name* parameter is the element of the source code and the *from* parameter is the metric. The *target* parameter is the world object, the *name* parameter is the name of the element in the city and the *to* parameter is the property of the element. If the value of the metric doesn't fit the world element, you have to use conversion. 

**Usage**: `java -jar mapping.jar -i <inputFile> -m <mappingFile> [-o <outputFile>]`

**Command line options:**  

* `-h`: help, shows the usage of the command line tool.  
* `-i`: input, the path of the input XML file generated by the Converter Tool. Required.  
* `-o`: output, which will be generated to the given path. Default: "mappingToPlacing.xml".  
* `-m`: mapping, path of the input mapping file. Required.  
* `-s`: scale. Set the scale of blocks. Default: 1.0  
* `-n`: nested. Default: false.  

**About the mapping file**  

The mapping file contains the parameters of build up the virtual world from the source code. 

~~~ xml
 <linking>
      <source name="Method" from="McCC" />
      <target name="floor" to="character" />
      <conversions>
           <conversion type="quantization">
                <parameter name="level0" value="glass" />
                <parameter name="level1" value="sand" />
                <parameter name="level2" value="planks" />
                <parameter name="level3" value="stone" />
                <parameter name="level4" value="obsidian" />
           </conversion>
      </conversions>
 </linking>
~~~

In the `<linking>` tag we can set how a program element shoul be displayed in the world. We can set the attribute of it like LOC, NUMPAR or McCabe complexity, choose a representation form of it (for example building), the property of the graphical object, like the height of the building and the type of the transition. Parameters also can be customized with giving a name and a value. 

[sm]: <https://www.sourcemeter.com/>
